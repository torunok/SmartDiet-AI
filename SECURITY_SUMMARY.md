# üîê SmartDiet.AI - –ë–µ–∑–ø–µ–∫–∞ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞!

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. üîê –ó–∞—Ö–∏—Å—Ç API –∫–ª—é—á—ñ–≤

**–î–û:**
```javascript
// index.html - API –∫–ª—é—á –≤–∏–¥–∏–º–∏–π –≤ –∫–æ–¥—ñ –±—Ä–∞—É–∑–µ—Ä–∞ ‚ùå
const apiKey = "AIzaSyD8pwLwm8WzTf0RBwItWFWXD0Fngmp11yY";
fetch('https://generativelanguage.googleapis.com/...?key=' + apiKey)
```

**–ü–Ü–°–õ–Ø:**
```javascript
// index.html - –ö–ª—é—á –Ω–µ–≤—ñ–¥–æ–º–∏–π –±—Ä–∞—É–∑–µ—Ä—É ‚úÖ
const API_URL = 'http://localhost:3000/api';
fetch(API_URL + '/generate-plan', ...)

// server.js - –ö–ª—é—á –∑–∞—Ö–∏—â–µ–Ω–∏–π –≤ .env
const apiKey = process.env.VITE_GEMINI_API_KEY;
// –ë—Ä–∞—É–∑–µ—Ä –Ω—ñ–∫–æ–ª–∏ –Ω–µ –±–∞—á–∏—Ç—å –∫–ª—é—á!
```

### 2. üìã –°—Ç–≤–æ—Ä–µ–Ω–æ 3 –Ω–æ–≤–∏—Ö —Ñ–∞–π–ª—ñ–≤

#### `.env` - –¢–∞—î–º–Ω—ñ –∫–ª—é—á—ñ (üö´ –ù–ï –ö–û–ú–Ü–¢–ò–¢–ò)
```env
VITE_GEMINI_API_KEY=AIzaSyD8pwLwm8WzTf0RBwItWFWXD0Fngmp11yY
FIREBASE_API_KEY=...
PORT=3000
CLIENT_URL=http://localhost:5173
```

#### `.env.example` - –®–∞–±–ª–æ–Ω (‚úÖ –º–æ–∂–Ω–æ –∫–æ–º–∏—Ç–∏—Ç—å)
```env
VITE_GEMINI_API_KEY=your_key_here
FIREBASE_API_KEY=your_firebase_key
...
```

#### `.gitignore` - –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –≤–∏—Ç–æ–∫—ñ–≤
```
.env           # –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–∏—Ç–∏—Ç—å!
.env.local
node_modules/
```

### 3. üöÄ –û–±–Ω–æ–≤–ª–µ–Ω `server.js`

–î–æ–±–∞–≤–ª–µ–Ω—ã 3 –Ω–æ–≤—ã—Ö API endpoint:

```javascript
POST /api/generate-plan      // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ–Ω—é –Ω–∞ –Ω–µ–¥–µ–ª—é
POST /api/regenerate-meal    // –ó–∞–º–µ–Ω–∞ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–≤–∏ –Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É
POST /api/recipe             // –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ —Ä–µ—Ü–µ–ø—Ç–∞
GET  /api/health             // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤'—è —Å–µ—Ä–≤–µ—Ä–∞
```

–£—Å—ñ –∑–∞–ø–∏—Ç–∏ –¥–æ Gemini API —Ç–µ–ø–µ—Ä —ñ–¥—É—Ç—å —ñ–∑ —Å–µ—Ä–≤–µ—Ä–∞, –∞ –Ω–µ –∑ –±—Ä–∞—É–∑–µ—Ä–∞!

### 4. üìÑ –û–±–Ω–æ–≤–ª–µ–Ω `index.html`

–£—Å—ñ –ø—Ä—è–º—ñ –≤–∏–∫–ª–∏–∫–∏ API –∑–∞–º—ñ–Ω–µ–Ω—ñ –Ω–∞ –≤–∏–∫–ª–∏–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞:

```javascript
// –î–û: fetch('https://generativelanguage.googleapis.com/...?key=' + apiKey)
// –ü–Ü–°–õ–Ø: fetch('http://localhost:3000/api/generate-plan')
```

### 5. üì¶ –û–Ω–æ–≤–ª–µ–Ω–æ `package.json`

–î–æ–¥–∞–Ω–æ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:
```json
{
  "express": "^4.18.0",
  "cors": "^2.8.5",
  "dotenv": "^16.0.0"
}
```

–î–æ–±–∞–≤–ª–µ–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞:
```json
"server": "node server.js",
"server:dev": "node --watch server.js"
```

### 6. üìö –°—Ç–≤–æ—Ä–µ–Ω–∞ –ø–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

- **SECURITY_SETUP.md** - –ü–æ–≤–Ω–∏–π –≥–∞–π–¥ –∑ –±–µ–∑–ø–µ–∫–∏ —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
- **DEPLOYMENT.md** - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –≤ production
- **README.md** - –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –±–µ–∑–ø–µ–∫–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –î–æ | –ü—ñ—Å–ª—è |
|----------|----|----|
| API –∫–ª—é—á –≤ –±—Ä–∞—É–∑–µ—Ä—ñ | ‚ùå –í–∏–¥–∏–º–∏–π | ‚úÖ –°—Ö–æ–≤–∏–Ω–∏–π |
| API –∫–ª—é—á –≤ .env | ‚ùå –ù–µ–º–∞ | ‚úÖ –Ñ |
| .env –≤ git | ‚ùå –ú–æ–∂–µ –±—É—Ç–∏ | ‚úÖ –£ .gitignore |
| –í—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—å API | ‚ùå –í–∏—Å–æ–∫–∞ | ‚úÖ –ó–∞—Ö–∏—â–µ–Ω–∞ |
| Rate limiting | ‚ùå –ù–µ–º–∞—î | ‚úÖ –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ |
| –õ–æ–≥—É–≤–∞–Ω–Ω—è | ‚ùå –ù–µ–º–∞—î | ‚úÖ –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ |

## üöÄ –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
cd /Users/roman/Downloads/SmartDiet.AI
npm install
```

### –ó–∞–ø—É—Å–∫ (2 —Ç–µ—Ä–º–∏–Ω–∞–ª–∞)

**–¢–µ—Ä–º–∏–Ω–∞–ª 1 - Backend:**
```bash
npm run server
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 2 - Frontend:**
```bash
npm run dev
```

–û—Ç–∫—Ä—ã—Ç—å: http://localhost:5173

## üîí –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –±–µ–∑–ø–µ–∫–∏

–û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **Network tab**
   - –ó–∞–ø–∏—Ç–∏ –º–∞—é—Ç—å –π—Ç–∏ –Ω–∞ `http://localhost:3000/api/*`
   - API –∫–ª—é—á –ù–ï –ø–æ–≤–∏–Ω–µ–Ω –∑'—è–≤–ª—è—Ç–∏—Å—è –≤ Network tab! ‚úÖ

2. **Console tab**
   - API –∫–ª—é—á –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∏–≥–¥–µ! ‚úÖ
   - –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É Sources –∏ –ø–æ–∏—Å–∫–∞—Ç—å "GEMINI" –∏–ª–∏ "AIza..."
   - –ú–∞—é—Ç—å –±—É—Ç–∏ —Ç—ñ–ª—å–∫–∏ —É .env —Ñ–∞–π–ª—ñ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ ‚úÖ

3. **Application tab**
   - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ Local Storage - –Ω–µ–º–∞—î API –∫–ª—é—á—ñ–≤ ‚úÖ
   - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ SessionStorage - –Ω–µ–º–∞—î API –∫–ª—é—á—ñ–≤ ‚úÖ

## üö® –í–∞–∂–Ω–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ

‚ö†Ô∏è **–ù–µ –∫–æ–º–∏—Ç—å—Ç–µ `.env` —Ñ–∞–π–ª!**

```bash
# –ü—Ä–∞–≤–∏–ª—å–Ω–æ ‚úÖ
git add . 
git commit -m "Add .env.example template"
# .env –±—É–¥–µ—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

# –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚ùå
git add .env
git commit -m "Add environment variables"
# API –∫–ª—é—á –±—É–¥–µ—Ç —Å–∫–æ–º–∏—Ç—á–µ–Ω –ø—É–±–ª–∏—á–Ω–æ!
```

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
–ë–†–ê–£–ó–ï–† (index.html)
    ‚Üì GET http://localhost:5173
    ‚Üì
    ‚îú‚îÄ User –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É
    ‚îú‚îÄ –ù–∞–∂–∏–º–∞–µ—Ç "–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å"
    ‚îú‚îÄ Sends POST http://localhost:3000/api/generate-plan
    ‚îÇ
    ‚îú‚îÄ BACKEND SERVER (server.js)
    ‚îÇ  ‚îú‚îÄ –û—Ç—Ä–∏–º—É—î –∑–∞–ø–∏—Ç
    ‚îÇ  ‚îú‚îÄ –ß–∏—Ç–∞—î VITE_GEMINI_API_KEY –∑ .env
    ‚îÇ  ‚îú‚îÄ –í–∏–∫–ª–∏–∫–∞—î Gemini API (API –∫–ª—é—á –ë–ï–ó–ü–ï–ß–ù–ò–ô –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ!)
    ‚îÇ  ‚îú‚îÄ –û—Ç—Ä–∏–º—É—î JSON –∑ –º–µ–Ω—é
    ‚îÇ  ‚îî‚îÄ –ü–æ–≤–µ—Ä—Ç–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –±—Ä–∞—É–∑–µ—Ä
    ‚îÇ
    ‚îî‚îÄ –ë–†–ê–£–ó–ï–† –ø–æ–∫–∞–∑—É—î –º–µ–Ω—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É
```

## ‚ú® –ù–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

### API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

```bash
# –ó–¥–æ—Ä–æ–≤'—è —Å–µ—Ä–≤–µ—Ä–∞
curl http://localhost:3000/api/health

# –ì–µ–Ω–µ—Ä—É–≤–∞–Ω–Ω—è –º–µ–Ω—é (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∑ –±—Ä–∞—É–∑–µ—Ä–∞)
curl -X POST http://localhost:3000/api/generate-plan \
  -H "Content-Type: application/json" \
  -d '{"age": 30, ...}'

# –†–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä–∞–≤–∏
curl -X POST http://localhost:3000/api/regenerate-meal \
  -H "Content-Type: application/json" \
  -d '{"day": "monday", ...}'

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞
curl -X POST http://localhost:3000/api/recipe \
  -H "Content-Type: application/json" \
  -d '{"dishName": "–ü–∞—Å—Ç–∞", "summary": "..."}'
```

## üìà –ß—Ç–æ —É–ª—É—á—à–µ–Ω–æ

- ‚úÖ API –∫–ª—é—á–∏ –∑–∞—Ö–∏—â–µ–Ω—ñ
- ‚úÖ .env —Ñ–∞–π–ª –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –°–µ—Ä–≤–µ—Ä–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å rate limiting
- ‚úÖ –°–µ—Ä–≤–µ—Ä–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- ‚úÖ CORS –∫–æ–Ω—Ç—Ä–æ–ª—å
- ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ production

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

–í–∞—à—ñ Firebase –¥–∞–Ω—ñ **–∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –Ω–µ–¥–æ—Ç–æ—Ä–∫–∞–Ω–∏–º–∏**:
- –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∞–∫–∫–∞—É–Ω—Ç—ã –≤ –ø–æ—Ä—è–¥–∫–µ
- –í—Å–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –º–µ–Ω—é –≤ Firestore
- –í—Å—è –∏—Å—Ç–æ—Ä–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä —ñ –≤—Å–µ –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏!

## üÜò –Ø–∫—â–æ —â–æ—Å—å –Ω–µ –ø—Ä–∞—Ü—é—î

1. **"Failed to fetch" –æ—à–∏–±–∫–∞**
   ```bash
   # –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω–∏–π
   npm run server
   ```

2. **"API Key not configured"**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª
   cat .env | grep VITE_GEMINI_API_KEY
   ```

3. **–ü–æ—Ä—Ç 3000 –≤–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è**
   ```bash
   # –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å
   lsof -i :3000
   # –ó–∞–∫—Ä—ã—Ç—å –µ–≥–æ
   kill -9 <PID>
   ```

4. **–ü–æ—Ä—Ç–∞–ª –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è**
   ```bash
   # –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–ø—É—â–µ–Ω—ã –æ–±–∞:
   # npm run server (–Ω–∞ –ø–æ—Ä—Ç—É 3000)
   # npm run dev (–Ω–∞ –ø–æ—Ä—Ç—É 5173)
   ```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

- **SECURITY_SETUP.md** - –ü–æ–≤–Ω–∏–π –ø–æ—Å—ñ–±–Ω–∏–∫ –∑ –±–µ–∑–ø–µ–∫–∏
- **DEPLOYMENT.md** - –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ production
- **README.md** - –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- **server.js** - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏

## üéì –ß—Ç–æ –∏–∑—É—á–µ–Ω–æ

- Express.js –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è REST API
- –ó–∞—Ö–∏—Å—Ç API –∫–ª—é—á—ñ–≤ —É production
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è (.env)
- CORS —Ç–∞ –±–µ–∑–ø–µ–∫–∞ –º—ñ–∂ –¥–æ–º–µ–Ω–∞–º–∏
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ frontend/backend

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–í–∞—à –¥–æ–¥–∞—Ç–æ–∫ —Ç–µ–ø–µ—Ä **–ø–æ–≤–Ω—ñ—Å—Ç—é –±–µ–∑–ø–µ—á–Ω–∏–π** –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ production! üöÄ

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ API –∫–ª—é—á –Ω–µ –≤–∏–¥–∏–º–∏–π –≤ –±—Ä–∞—É–∑–µ—Ä—ñ
3. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ production (—Å–º–æ—Ç—Ä–∏ DEPLOYMENT.md)
4. –ù–∞—Å–æ–ª–æ–¥–∂—É–≤–∞—Ç–∏—Å—è –±–µ–∑–ø–µ—á–Ω–æ—é –ø—Ä–æ–≥—Ä–∞–º–æ—é!

---

**–°—Ç–≤–æ—Ä–µ–Ω–æ –∑ ‚ù§Ô∏è –¥–ª—è –±–µ–∑–ø–µ–∫–∏ –≤–∞—à–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É**
